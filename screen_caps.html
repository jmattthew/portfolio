<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
	<!-- Google Analytics -->
	<script>
		window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
		ga('create', 'UA-52293845-1', 'auto');
		ga('send', 'pageview');
	</script>
	<script async src='https://www.google-analytics.com/analytics.js'></script>
	<!-- End Google Analytics -->
	<title>Mattthew: Full stack product design leader, storyteller, artist</title>
	<meta name="description" content="View Mattthew's portolio of product designs, UX, and interactive moving images. Mattthew is a full stack product design leader, storyteller, and artist based in San Francisco.">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta id="deviceViewPort" name="viewport" content="width=device-width">
	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
	</script>
	<script type="text/javascript" src="assets/details_Sens_analytics_enc.js"></script>
	<script>
		WebFont.load({
			google: {
				families: ['Crimson Text:400','Work Sans:100,200,300']
			}
		});

		// code from https://github.com/bradyjoslin/webcrypto-example/blob/master/script.js
		const base64_to_buf = (b64) => Uint8Array.from(atob(b64), (c) => c.charCodeAt(null));
		const enc = new TextEncoder();
		const dec = new TextDecoder();
		const getPasswordKey = (password) => window.crypto.subtle.importKey("raw", enc.encode(password), "PBKDF2", false, ["deriveKey",]);
		const deriveKey = (passwordKey, salt, keyUsage) =>
			window.crypto.subtle.deriveKey(
				{
					name: "PBKDF2",
					salt: salt,
					iterations: 250000,
					hash: "SHA-256",
				},
				passwordKey,
				{
					name: "AES-GCM",
					length: 256
				},
				false,
				keyUsage
			);

		async function decryptData(encryptedData, password) {
			try {
				const encryptedDataBuff = base64_to_buf(encryptedData);
				const salt = encryptedDataBuff.slice(0, 16);
				const iv = encryptedDataBuff.slice(16, 16 + 12);
				const data = encryptedDataBuff.slice(16 + 12);
				const passwordKey = await getPasswordKey(password);
				const aesKey = await deriveKey(passwordKey, salt, ["decrypt"]);
				const decryptedContent = await window.crypto.subtle.decrypt(
				{
					name: "AES-GCM",
					iv: iv,
				},
					aesKey,
					data
				);
				return dec.decode(decryptedContent);
			} catch (e) {
				console.log(`Error - ${e}`);
				return "";
			}
		}

		async function insertEncryptedBG(encryptedData,pw,$el) {
			const password = pw;
			const decryptedData = await decryptData(encryptedData, password);
	  		$el.css('background-image', 'url("data:image/png;base64,' + decryptedData + '")');
		}

		function findGetParameter(parameterName) {
		    var result = null,
		        tmp = [];
		    var items = location.search.substr(1).split("&");
		    for (var index = 0; index < items.length; index++) {
		        tmp = items[index].split("=");
		        if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
		    }
		    return result;
		}

		$(document).ready(function() {

	  		$('#thumbnails .thumbnail').click(function(e) {
	  			$('#lightbox').css('display','block');
	  			var $el = $(this).clone();
	  			$('#lightbox').html($el);
	  			return false;
	  		});

	  		$('#lightbox').click(function(e) {
	  			if (!$(e.target).closest('.thumbnail').length) {
		  			$('#lightbox').css('display','');
		  		}
	  		});

	  		$(document).keyup(function(e) {
				if (e.keyCode === 27) {
					// esc
		  			$('#lightbox').css('display','');
				}
			});

	  		if(!findGetParameter('pw')) {
	  			$('.img_Sens_analytics').css('display','none');
	  		} else {
		  		pw = findGetParameter('pw');
				insertEncryptedBG(details_Sens_analytics_enc,pw,$('.img_Sens_analytics'));
	  		}

		});

	</script>
	<link href="assets/screen_caps.css" rel="stylesheet" type="text/css">
</head>

<body>
	<div id="frame">
		<div id="content">
			<div id="intro">
				<span>
					This is a page only contains videos &amp; screen captures without any context.<br>
					To read the full case studies associated with these projects, close this tab.<br>
					Case Studies for three 2020 projects are not yet available.
				</span>
			</div>
			<div id="thumbnails">
				<div class="img_Sens_filters thumbnail video">
					<span>2020 Projects</span>
					<video poster="assets/details_Sens_filters.png" controls loop>
						<source src="assets/details_Sens_filters.mp4" type="video/mp4">
						Sorry, your browser doesn't support this video.
					</video>
				</div>
				<div class="img_Sens_analytics thumbnail">
					<span>2020 Projects</span>
				</div>
				<div class="img_Sens_calendar thumbnail">
					<span>2020 Projects</span>
				</div>
				<div class="img_ClVr_prototype thumbnail video">
					<span>Clover Health</span>
					<video poster="assets/details_ClVr_prototype_poster.png" controls loop>
						<source src="assets/details_ClVr_prototype.mov" type="video/mp4">
						Sorry, your browser doesn't support this video.
					</video>
				</div>
				<div class="img_SiPo_website thumbnail video">
					<span>Siempo Launcher</span>
					<video poster="assets/details_SiPo_website2.jpg" controls>
						<source src="assets/details_SiPo_website.mp4" type="video/mp4">
						Sorry, your browser doesn't support this video.
					</video>
				</div>
				<div class="img_SiPo_commercial thumbnail video">
					<span>Siempo Launcher</span>
					<video poster="assets/details_SiPo_commercial_poster.png" controls>
						<source src="assets/details_SiPo_commercial.mp4" type="video/mp4">
						Sorry, your browser doesn't support this video.
					</video>
				</div>
				<div class="img_CaPo_desktop_inventory2 thumbnail">
					<span>Cardpool</span>
				</div>
				<div class="img_CaPo_desktop_inventory1 thumbnail">
					<span>Cardpool</span>
				</div>
				<div class="img_CaPo_forms thumbnail">
					<span>Cardpool</span>
				</div>
				<div class="img_CaPo_mobile_inventory1 thumbnail">
					<span>Cardpool</span>
				</div>
				<div class="img_CaPo_mobile_inventory2 thumbnail">
					<span>Cardpool</span>
				</div>
				<div class="img_CaPo_slider thumbnail">
					<span>Cardpool</span>
				</div>
				<div class="img_FoFi_screenshot1 thumbnail">
					<span>Font Finder</span>
				</div>
				<div class="img_RoTo_screenshot1 thumbnail">
					<span>Rotten Tomatoes</span>
				</div>
				<div class="img_ShSh_greg thumbnail">
					<span>Shsh Web</span>
				</div>
				<div class="img_ShSh_skate thumbnail">
					<span>Shsh Web</span>
				</div>
				<div class="img_ShSh_getready thumbnail">
					<span>Shsh Web</span>
				</div>
			</div>
		</div>
	</div>
	<div id="lightbox"></div>
</body>

</html>
